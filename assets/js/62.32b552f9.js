(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{265:function(a,s,t){"use strict";t.r(s);var e=t(28),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"重学webpack"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重学webpack"}},[a._v("#")]),a._v(" 重学webpack")]),a._v(" "),t("h2",{attrs:{id:"核心概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#核心概念"}},[a._v("#")]),a._v(" 核心概念")]),a._v(" "),t("ol",[t("li",[a._v("入口")]),a._v(" "),t("li",[a._v("输出")]),a._v(" "),t("li",[a._v("Loader")]),a._v(" "),t("li",[a._v("插件")]),a._v(" "),t("li",[a._v("模式/兼容性")])]),a._v(" "),t("h2",{attrs:{id:"webpack安装-使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack安装-使用"}},[a._v("#")]),a._v(" Webpack安装&使用")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("初始化项目")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#快速创建nodejs项目")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" init -y\n")])])])]),a._v(" "),t("li",[t("p",[a._v("nvm,node,npm环境确认")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("nvm install/use v10.16.9\nnode -v\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" -v\n")])])])]),a._v(" "),t("li",[t("p",[a._v("两种webpack安装与三种使用方式")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g/-D webpack webpack-cli\n\nnpx webpack"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v(".node_modules/.bin/webpack"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" run\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"入口与输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#入口与输出"}},[a._v("#")]),a._v(" 入口与输出")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("关键词entry，output")])]),a._v(" "),t("li",[t("p",[a._v("Node的路径相关：path模块的使用")])]),a._v(" "),t("li",[t("p",[a._v("output中的path需要使用绝对路径")]),a._v(" "),t("p",[a._v("path.join()去拼接路径，Nodejs全局变量__dirname")])])]),a._v(" "),t("h2",{attrs:{id:"loaders、插件、hmr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loaders、插件、hmr"}},[a._v("#")]),a._v(" loaders、插件、HMR")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("关键词loaders、plugins")]),a._v(" "),t("p",[a._v("test去匹配文件、loader倒序加载流水线处理")])]),a._v(" "),t("li",[t("p",[a._v("plugin的使用，热模块替换")])]),a._v(" "),t("li",[t("p",[a._v("安装plugin的依赖，在plugins属性中new一个plugin")])]),a._v(" "),t("li",[t("p",[a._v("webpack-dev-server")]),a._v(" "),t("p",[a._v("引用HMR插件，修改js的时候，自动刷新页面")])])]),a._v(" "),t("h2",{attrs:{id:"一些常用的babel和plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些常用的babel和plugin"}},[a._v("#")]),a._v(" 一些常用的babel和plugin")]),a._v(" "),t("h3",{attrs:{id:"babel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[a._v("#")]),a._v(" babel")]),a._v(" "),t("p",[a._v("安装依赖")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" babel-loader @babel/core @babel/preset-env @babel/plugin-transform-runtime -D\n")])])]),t("p",[a._v("@babel/plugin-transform-runtime依赖于@babel/runtime")]),a._v(" "),t("p",[a._v("主要用于生产环境时提供一个运行环境")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" @babel/runtime -S\n")])])]),t("h3",{attrs:{id:"打包时清除原打包目录：clear-webpack-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包时清除原打包目录：clear-webpack-plugin"}},[a._v("#")]),a._v(" 打包时清除原打包目录：clear-webpack-plugin")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" clean-webpack-plugin -D\n")])])]),t("h3",{attrs:{id:"复制资源文件：copy-webpack-plugin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制资源文件：copy-webpack-plugin"}},[a._v("#")]),a._v(" 复制资源文件：copy-webpack-plugin")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" copy-webpack-plugin -D\n")])])]),t("h3",{attrs:{id:"压缩css文件和js文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#压缩css文件和js文件"}},[a._v("#")]),a._v(" 压缩css文件和js文件")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("css压缩")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" optimize-css-assets-webpack-plugin -D\n")])])])]),a._v(" "),t("li",[t("p",[a._v("css分离")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" mini-css-extract-plugin -D\n")])])])]),a._v(" "),t("li",[t("p",[a._v("js压缩")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("   -D\n")])])])])]),a._v(" "),t("h2",{attrs:{id:"遇到的一些错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#遇到的一些错误"}},[a._v("#")]),a._v(" 遇到的一些错误")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("在全局使用webpack和webpack-cli容易造成与项目版本不符合，最好将webpack和webpack-cli安装在项目目录中。安装前先删除package-lock.json文件。")])]),a._v(" "),t("li",[t("p",[a._v("webpack-dev-server中的hot默认为true。")]),a._v(" "),t("p",[a._v("因此不必在plugins中添加该模块，webpack.HotModuleReplacementPlugin。")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);